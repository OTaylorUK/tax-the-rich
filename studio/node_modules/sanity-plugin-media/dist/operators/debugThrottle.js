"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var rxjs_1 = require("rxjs");
var operators_1 = require("rxjs/operators");
var debugThrottle = function (throttled) {
    return function (source) {
        return (0, rxjs_1.iif)(function () { return !!throttled; }, source.pipe((0, operators_1.delay)(3000), (0, operators_1.mergeMap)(function (v) {
            if (Math.random() > 0.5) {
                return (0, rxjs_1.throwError)({
                    message: 'Test error',
                    statusCode: 500
                });
            }
            return (0, rxjs_1.of)(v);
        })), source);
    };
};
exports.default = debugThrottle;
//# sourceMappingURL=debugThrottle.js.map